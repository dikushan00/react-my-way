{"version":3,"sources":["components/common/paginator/Paginator.module.css","../node_modules/classnames/index.js","components/Users/Users.module.css","../node_modules/querystring-es3/index.js","../node_modules/querystring-es3/decode.js","../node_modules/querystring-es3/encode.js","components/common/paginator/Paginator.tsx","components/Users/UserItem.tsx","components/Users/UsersSearchForm.tsx","components/Users/Users.tsx","components/Users/UsersContainer.tsx"],"names":["module","exports","currentPage","pagination","paginationCon","pagItem","btn","__WEBPACK_AMD_DEFINE_RESULT__","hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","key","call","join","default","undefined","user","avaImg","userInfo","btnBlue","btnRed","decode","parse","__webpack_require__","encode","stringify","obj","prop","Object","prototype","qs","sep","eq","options","regexp","split","maxKeys","len","kstr","vstr","k","v","x","replace","idx","indexOf","substr","decodeURIComponent","xs","toString","stringifyPrimitive","isFinite","name","map","objectKeys","ks","encodeURIComponent","f","res","keys","Paginator","_ref","pageCount","pageSize","pageEvent","_ref$portionSize","portionSize","pagesCount","Math","ceil","pages","currentPortionNumber","floor","portionCount","_useState","useState","_useState2","slicedToArray","portionNumber","setPortionNumber","leftBorderPagination","rightBorderPagination","react_default","a","createElement","className","style","onClick","filter","p","cn","defineProperty","UserItem","dispatch","useDispatch","toggleProgressArr","useSelector","state","usersPage","react_router_dom","to","id","src","photos","small","photoUser","status","followed","userId","unfollow","follow","disabled","some","UsersSearchForm","props","formik_esm","enableReinitialize","initialValues","term","friends","String","validate","values","onSubmit","setSubmitting","friendsValue","onFilterChanged","_ref2","isSubmitting","type","placeholder","as","marginLeft","value","Users","history","useHistory","users","usersData","isFetching","useEffect","parsetURI","queryString","location","search","console","log","actualPage","actualFilter","page","Number","objectSpread","friend","getUsers","query","pathname","Users_UsersSearchForm","paginator_Paginator","Preloader","Users_UserItem","compose","withAuthRedirect","components_Users_Users"],"mappings":"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","file":"static/js/1.21770a9c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"currentPage\":\"Paginator_currentPage__2SvhQ\",\"pagination\":\"Paginator_pagination__f7Lgs\",\"paginationCon\":\"Paginator_paginationCon__fzT3c\",\"pagItem\":\"Paginator_pagItem__3mWns\",\"btn\":\"Paginator_btn__2ebSa\"};","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n\n/* global define */\n(function () {\n  'use strict';\n\n  var hasOwn = {}.hasOwnProperty;\n\n  function classNames() {\n    var classes = [];\n\n    for (var i = 0; i < arguments.length; i++) {\n      var arg = arguments[i];\n      if (!arg) continue;\n      var argType = typeof arg;\n\n      if (argType === 'string' || argType === 'number') {\n        classes.push(arg);\n      } else if (Array.isArray(arg) && arg.length) {\n        var inner = classNames.apply(null, arg);\n\n        if (inner) {\n          classes.push(inner);\n        }\n      } else if (argType === 'object') {\n        for (var key in arg) {\n          if (hasOwn.call(arg, key) && arg[key]) {\n            classes.push(key);\n          }\n        }\n      }\n    }\n\n    return classes.join(' ');\n  }\n\n  if (typeof module !== 'undefined' && module.exports) {\n    classNames.default = classNames;\n    module.exports = classNames;\n  } else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n    // register as 'classnames', consistent with npm package name\n    define('classnames', [], function () {\n      return classNames;\n    });\n  } else {\n    window.classNames = classNames;\n  }\n})();","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"Users_user__29vq1\",\"avaImg\":\"Users_avaImg__1oMyX\",\"userInfo\":\"Users_userInfo__2KYxd\",\"btn\":\"Users_btn__19VRJ\",\"btnBlue\":\"Users_btnBlue__3Mg3s\",\"btnRed\":\"Users_btnRed__2rOU5\"};","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict'; // If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function (qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n  var maxKeys = 1000;\n\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length; // maxKeys <= 0 means that we should not limit keys count\n\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr,\n        vstr,\n        k,\n        v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict';\n\nvar stringifyPrimitive = function stringifyPrimitive(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function (obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function (k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n\n      if (isArray(obj[k])) {\n        return map(obj[k], function (v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq + encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map(xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n\n  return res;\n};","import React, { useState } from 'react'\r\nimport style from './Paginator.module.css'\r\nimport cn from 'classnames'\r\n\r\nconst Paginator: React.FC<PropsType> = ({currentPage, pageCount, pageSize, pageEvent, portionSize = 10}) => {\r\n\r\n    let pagesCount = Math.ceil(pageCount / pageSize);\r\n\r\n    let pages = []\r\n\r\n    for (let i = 1; i < pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    let currentPortionNumber = Math.floor(currentPage / portionSize);\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    currentPortionNumber === 0 ? currentPortionNumber = 1 : currentPortionNumber = currentPortionNumber\r\n    let [portionNumber, setPortionNumber] = useState(currentPortionNumber);\r\n    let leftBorderPagination = (portionNumber - 1) * portionSize + 1;\r\n    let rightBorderPagination = portionNumber * portionSize; \r\n\r\n    return <div className={style.pagination}>\r\n        <div className={style.paginationCon}>\r\n        {portionNumber > 1 && <button onClick={() => setPortionNumber(portionNumber - 1)} className={style.btn}>Пред.</button>}\r\n        {pages\r\n            .filter(i => (i >= leftBorderPagination && i <= rightBorderPagination))\r\n            .map(p => <span className = { cn({ [style.currentPage]: currentPage === p }, style.pagItem )}\r\n                            onClick={() => pageEvent(p)} key={p}>{p}</span>)}\r\n        {portionCount > portionNumber && <button onClick={() => setPortionNumber(portionNumber + 1)} className={style.btn}>След.</button>}\r\n    </div>\r\n    </div>\r\n}\r\n\r\nexport default Paginator\r\n\r\n\r\n\r\ntype PropsType = {\r\n    currentPage: number\r\n    pageCount: number\r\n    pageSize: number\r\n    pageEvent: (n: number) => void\r\n    portionSize?: number\r\n}","import React from 'react'\r\nimport style from './Users.module.css'\r\nimport photoUser from '../../img/user.svg'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport { UserType } from '../../Types/Types';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { AppStateType } from '../../redux/store-redux';\r\nimport { follow, unfollow } from '../../redux/users_reducer';\r\n\r\nconst UserItem: React.FC<PropsType> = ({user}) => {\r\n\r\n    const switch_follow = (followed: boolean, userId: number) => {\r\n        if (followed) {\r\n            dispatch(unfollow(userId))\r\n        } else {\r\n            dispatch(follow(userId))\r\n        }\r\n    }\r\n\r\n    const dispatch = useDispatch()\r\n    const toggleProgressArr = useSelector((state: AppStateType) => state.usersPage.toggleProgressArr)\r\n\r\n    return <div className={style.user}>\r\n                <NavLink to={\"/profile/\" + user.id}>\r\n                        <span>\r\n                            <img className={style.avaImg}\r\n                                src={user.photos.small !== null ? user.photos.small : photoUser}/>\r\n                        </span>\r\n                </NavLink>\r\n                <span className={style.userInfo}>\r\n                    <div>{user.name}</div>\r\n                    <div>{user.status}</div>\r\n                    <button className={style.btn + ' ' + (user.followed ? style.btnBlue : style.btnRed)} onClick={() => switch_follow(user.followed, user.id)}\r\n                            disabled={toggleProgressArr.some(id => id === user.id)}>{user.followed ? \"Unfollow\" : \"Follow\"}\r\n                    </button>\r\n                </span>\r\n            </div>\r\n}\r\n\r\nexport default UserItem\r\n\r\ntype PropsType = {\r\n    user: UserType\r\n}","import React from 'react';\r\nimport {Formik, Field, Form} from 'formik'\r\nimport {FilterType} from '../../redux/users_reducer'\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../redux/store-redux\";\r\n\r\ntype PropsType = {\r\n  onFilterChanged: (filter: FilterType) => void\r\n}\r\n\r\nconst UsersSearchForm: React.FC<PropsType> = (props) => {\r\n\r\n  const filter = useSelector((state: AppStateType) => state.usersPage.filter)\r\n  const submit = (values: FormType, {setSubmitting} : {setSubmitting: (isSubmitting: boolean) => void}) => {\r\n\r\n    let friendsValue = {\r\n      term: values.term,\r\n      friends: values.friends === \"null\" ? null : values.friends ? true : false\r\n    }\r\n    \r\n    props.onFilterChanged(friendsValue)\r\n    setSubmitting(false)\r\n  }\r\n  \r\n    return <div className=\"pageArea\">\r\n      <Formik\r\n        enableReinitialize\r\n        initialValues={{ term: filter.term, friends: String(filter.friends) as FriendFormType}}\r\n        validate={values => {\r\n          const errors = {};\r\n          return errors;\r\n        }}\r\n        onSubmit = {submit}\r\n      >\r\n        {({ isSubmitting }) => (\r\n          <Form>\r\n            <Field type=\"text\" name=\"term\" placeholder='Enter name...'/>\r\n            <Field name=\"friends\" as=\"select\" placeholder=\"Favorite Color\" style={{marginLeft: '10px'}}>\r\n              <option value=\"true\">Friends</option>\r\n              <option value=\"false\">Unfollowed users</option>\r\n              <option value=\"null\">All users</option>\r\n            </Field>\r\n            <button type=\"submit\" className=\"btn\" disabled={isSubmitting}>\r\n              Find\r\n            </button>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </div>\r\n}\r\n  \r\n  export default UsersSearchForm;\r\n\r\ntype FriendFormType = \"true\" | \"false\" | \"null\"\r\n\r\ntype FormType = {\r\n  term: string\r\n  friends: FriendFormType\r\n}\r\n\r\n","import React, { useEffect, useState } from \"react\";\r\nimport style from \"./Users.module.css\";\r\nimport Paginator from \"../common/paginator/Paginator\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport UserItem from \"./UserItem\";\r\nimport UsersSearchForm from \"./UsersSearchForm\";\r\nimport {\r\n  FilterType,\r\n  getUsers,\r\n  unfollow,\r\n  follow,\r\n} from \"../../redux/users_reducer\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { AppStateType } from \"../../redux/store-redux\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport * as queryString from \"querystring\";\r\n\r\nconst Users: React.FC = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const filter = useSelector((state: AppStateType) => state.usersPage.filter);\r\n  const pageSize = useSelector(\r\n    (state: AppStateType) => state.usersPage.pageSize\r\n  );\r\n  const pageCount = useSelector(\r\n    (state: AppStateType) => state.usersPage.pageCount\r\n  );\r\n  const currentPage = useSelector(\r\n    (state: AppStateType) => state.usersPage.currentPage\r\n  );\r\n  const users = useSelector((state: AppStateType) => state.usersPage.usersData);\r\n  const isFetching = useSelector(\r\n    (state: AppStateType) => state.usersPage.isFetching\r\n  );\r\n\r\n  useEffect(() => {\r\n\r\n    const parsetURI = queryString.parse(\r\n      history.location.search.substr(1)\r\n    ) as QueryParamsType;\r\n    \r\n    console.log(history);\r\n\r\n    let actualPage = currentPage;\r\n    let actualFilter = filter;\r\n    if (parsetURI.page) actualPage = Number(parsetURI.page);\r\n\r\n    if (parsetURI.term)\r\n      actualFilter = { ...actualFilter, term: parsetURI.term as string };\r\n\r\n    switch (parsetURI.friend) {\r\n      case \"null\": {\r\n        actualFilter = { ...actualFilter, friends: null };\r\n        break;\r\n      }\r\n      case \"true\": {\r\n        actualFilter = { ...actualFilter, friends: true };\r\n        break;\r\n      }\r\n      case \"false\": {\r\n        actualFilter = { ...actualFilter, friends: false };\r\n        break;\r\n      }\r\n    }\r\n\r\n    dispatch(getUsers(actualPage, pageSize, actualFilter));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const query: QueryParamsType = {};\r\n\r\n    if (filter.term) query.term = filter.term;\r\n    if (filter.friends !== null) query.friend = String(filter.friends);\r\n    if (currentPage !== 1) query.page = String(currentPage);\r\n\r\n    history.push({\r\n      pathname: \"/users\",\r\n      search: queryString.stringify(query),\r\n    });\r\n  }, [filter, currentPage]);\r\n\r\n  const pageEvent = (p: number) => {\r\n    dispatch(getUsers(p, pageSize, filter));\r\n  };\r\n\r\n  const onFilterChanged = (filter: FilterType) => {\r\n    dispatch(getUsers(currentPage, pageSize, filter));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <UsersSearchForm onFilterChanged={onFilterChanged} />\r\n\r\n      <Paginator\r\n        currentPage={currentPage}\r\n        pageCount={pageCount}\r\n        pageSize={pageSize}\r\n        pageEvent={pageEvent}\r\n        portionSize={10}\r\n      />\r\n\r\n      {isFetching ? (\r\n        <Preloader />\r\n      ) : (\r\n        users.map((user) => <UserItem user={user} key={user.id} />)\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n\r\ntype QueryParamsType = {\r\n  friend?: boolean | string;\r\n  term?: string;\r\n  page?: string;\r\n};\r\n","import React from 'react';\r\nimport Users from \"./Users\";\r\nimport {withAuthRedirect} from \"../HOC/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nconst UsersContainer: React.FC = () => {\r\n        \r\n        return <Users />\r\n}\r\n\r\nexport default compose<React.ComponentType>(\r\n    withAuthRedirect\r\n)(UsersContainer)"],"sourceRoot":""}