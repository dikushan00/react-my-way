{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\dikush\\\\Documents\\\\GitHub\\\\react-my-way\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport { AuthAPI } from \"../api/api\";\nvar SET_NEW_AUTH = 'SET_NEW_AUTH';\nvar initialState = {\n  id: null,\n  login: null,\n  email: null,\n  isAuth: false\n};\n\nvar header_reducer = function header_reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case SET_NEW_AUTH:\n      {\n        return _objectSpread({}, state, {\n          id: action.data.id,\n          login: action.data.login,\n          email: action.data.email,\n          isAuth: true\n        });\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n};\n\nexport var setNewAuth = function setNewAuth(id, login, email) {\n  return {\n    type: SET_NEW_AUTH,\n    data: {\n      id: id,\n      login: login,\n      email: email\n    }\n  };\n};\nexport var checkAuth = function checkAuth() {\n  return function (dispatch) {\n    AuthAPI.checkAuth().then(function (data) {\n      var _data$data = data.data,\n          id = _data$data.id,\n          login = _data$data.login,\n          email = _data$data.email;\n\n      if (data.resultCode === 0) {\n        dispatch(setNewAuth(id, login, email));\n      }\n    });\n  };\n};\nexport default header_reducer;","map":{"version":3,"sources":["C:/Users/dikush/Documents/GitHub/react-my-way/src/redux/header_reducer.js"],"names":["AuthAPI","SET_NEW_AUTH","initialState","id","login","email","isAuth","header_reducer","state","action","type","data","setNewAuth","checkAuth","dispatch","then","resultCode"],"mappings":";AAAA,SAAQA,OAAR,QAAsB,YAAtB;AAEA,IAAMC,YAAY,GAAG,cAArB;AAEA,IAAIC,YAAY,GAAG;AACfC,EAAAA,EAAE,EAAE,IADW;AAEfC,EAAAA,KAAK,EAAE,IAFQ;AAGfC,EAAAA,KAAK,EAAE,IAHQ;AAIfC,EAAAA,MAAM,EAAE;AAJO,CAAnB;;AAOA,IAAIC,cAAc,GAAG,SAAjBA,cAAiB,GAAkC;AAAA,MAAjCC,KAAiC,uEAAzBN,YAAyB;AAAA,MAAXO,MAAW;;AAEnD,UAAQA,MAAM,CAACC,IAAf;AAEI,SAAKT,YAAL;AAAmB;AACf,iCACOO,KADP;AAEIL,UAAAA,EAAE,EAAEM,MAAM,CAACE,IAAP,CAAYR,EAFpB;AAGIC,UAAAA,KAAK,EAAEK,MAAM,CAACE,IAAP,CAAYP,KAHvB;AAIIC,UAAAA,KAAK,EAAEI,MAAM,CAACE,IAAP,CAAYN,KAJvB;AAKIC,UAAAA,MAAM,EAAE;AALZ;AAOH;;AACD;AAAS;AACL,eAAOE,KAAP;AACH;AAbL;AAeH,CAjBD;;AAmBA,OAAO,IAAMI,UAAU,GAAG,SAAbA,UAAa,CAACT,EAAD,EAAKC,KAAL,EAAYC,KAAZ;AAAA,SAAuB;AAACK,IAAAA,IAAI,EAAET,YAAP;AAAqBU,IAAAA,IAAI,EAAE;AAACR,MAAAA,EAAE,EAAFA,EAAD;AAAKC,MAAAA,KAAK,EAALA,KAAL;AAAYC,MAAAA,KAAK,EAALA;AAAZ;AAA3B,GAAvB;AAAA,CAAnB;AAEP,OAAO,IAAMQ,SAAS,GAAG,SAAZA,SAAY,GAAM;AAC3B,SAAO,UAACC,QAAD,EAAc;AACjBd,IAAAA,OAAO,CAACa,SAAR,GACKE,IADL,CACU,UAACJ,IAAD,EAAU;AAAA,uBACaA,IAAI,CAACA,IADlB;AAAA,UACPR,EADO,cACPA,EADO;AAAA,UACHC,KADG,cACHA,KADG;AAAA,UACIC,KADJ,cACIA,KADJ;;AAEZ,UAAIM,IAAI,CAACK,UAAL,KAAoB,CAAxB,EAA2B;AACvBF,QAAAA,QAAQ,CAACF,UAAU,CAACT,EAAD,EAAKC,KAAL,EAAYC,KAAZ,CAAX,CAAR;AACH;AACJ,KANL;AAOH,GARD;AASH,CAVM;AAYP,eAAeE,cAAf","sourcesContent":["import {AuthAPI} from \"../api/api\";\r\n\r\nconst SET_NEW_AUTH = 'SET_NEW_AUTH'\r\n\r\nlet initialState = {\r\n    id: null,\r\n    login: null,\r\n    email: null,\r\n    isAuth: false\r\n}\r\n\r\nlet header_reducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case SET_NEW_AUTH: {\r\n            return {\r\n                ...state,\r\n                id: action.data.id,\r\n                login: action.data.login,\r\n                email: action.data.email,\r\n                isAuth: true\r\n            }\r\n        }\r\n        default: {\r\n            return state\r\n        }\r\n    }\r\n}\r\n\r\nexport const setNewAuth = (id, login, email) => ({type: SET_NEW_AUTH, data: {id, login, email}})\r\n\r\nexport const checkAuth = () => {\r\n    return (dispatch) => {\r\n        AuthAPI.checkAuth()\r\n            .then((data) => {\r\n                let {id, login, email} = data.data\r\n                if (data.resultCode === 0) {\r\n                    dispatch(setNewAuth(id, login, email))\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport default header_reducer"]},"metadata":{},"sourceType":"module"}