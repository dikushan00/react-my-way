{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\dikush\\\\Documents\\\\GitHub\\\\react-my-way\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"C:\\\\Users\\\\dikush\\\\Documents\\\\GitHub\\\\react-my-way\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar SWITCH_FOLLOW = \"SWITCH_FOLLOW\";\nvar SET_USERS = \"SET_USERS\";\nvar SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\nvar SET_TOTAL_PAGE_COUNT = \"SET_TOTAL_PAGE_COUNT\";\nvar initialState = {\n  usersData: [],\n  pageSize: 5,\n  currentPage: 1,\n  pageCount: 0\n};\n\nvar users_reducer = function users_reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case SWITCH_FOLLOW:\n      {\n        return _objectSpread({}, state, {\n          usersData: state.usersData.map(function (u) {\n            if (u.id === action.userId) {\n              return _objectSpread({}, u, {\n                followed: !u.followed\n              });\n            }\n\n            return u;\n          })\n        });\n        return state;\n      }\n\n    case SET_USERS:\n      {\n        return _objectSpread({}, state, {\n          usersData: _toConsumableArray(action.users)\n        });\n      }\n\n    case SET_CURRENT_PAGE:\n      {\n        return _objectSpread({}, state, {\n          currentPage: state.currentPage\n        });\n      }\n\n    case SET_TOTAL_PAGE_COUNT:\n      {\n        return _objectSpread({}, state, {\n          usersData: [].concat(_toConsumableArray(state.usersData), _toConsumableArray(action.users))\n        });\n      }\n  }\n\n  return state;\n};\n\nexport var switch_followAC = function switch_followAC(userId) {\n  return {\n    type: SWITCH_FOLLOW,\n    userId: userId\n  };\n};\nexport var setUsersAC = function setUsersAC(users) {\n  return {\n    type: SET_USERS,\n    users: users\n  };\n};\nexport var setCurrentPageAC = function setCurrentPageAC(currentPage) {\n  return {\n    type: SET_CURRENT_PAGE,\n    currentPage: currentPage\n  };\n};\nexport var setPageCountAC = function setPageCountAC(count) {\n  return {\n    type: SET_TOTAL_PAGE_COUNT,\n    count: count\n  };\n};\nexport default users_reducer;","map":{"version":3,"sources":["C:/Users/dikush/Documents/GitHub/react-my-way/src/redux/users_reducer.js"],"names":["SWITCH_FOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_PAGE_COUNT","initialState","usersData","pageSize","currentPage","pageCount","users_reducer","state","action","type","map","u","id","userId","followed","users","switch_followAC","setUsersAC","setCurrentPageAC","setPageCountAC","count"],"mappings":";;AAAA,IAAMA,aAAa,GAAG,eAAtB;AACA,IAAMC,SAAS,GAAG,WAAlB;AACA,IAAMC,gBAAgB,GAAG,kBAAzB;AACA,IAAMC,oBAAoB,GAAG,sBAA7B;AAEA,IAAIC,YAAY,GAAG;AACfC,EAAAA,SAAS,EAAE,EADI;AAEfC,EAAAA,QAAQ,EAAE,CAFK;AAGfC,EAAAA,WAAW,EAAE,CAHE;AAIfC,EAAAA,SAAS,EAAE;AAJI,CAAnB;;AAOA,IAAIC,aAAa,GAAG,SAAhBA,aAAgB,GAAkC;AAAA,MAAjCC,KAAiC,uEAAzBN,YAAyB;AAAA,MAAXO,MAAW;;AAElD,UAAQA,MAAM,CAACC,IAAf;AAEI,SAAKZ,aAAL;AAAoB;AAEZ,iCACOU,KADP;AAEIL,UAAAA,SAAS,EAAEK,KAAK,CAACL,SAAN,CAAgBQ,GAAhB,CAAqB,UAAAC,CAAC,EAAI;AACjC,gBAAGA,CAAC,CAACC,EAAF,KAASJ,MAAM,CAACK,MAAnB,EAA0B;AACtB,uCAAWF,CAAX;AAAcG,gBAAAA,QAAQ,EAAE,CAACH,CAAC,CAACG;AAA3B;AACH;;AACD,mBAAOH,CAAP;AACH,WALU;AAFf;AAUJ,eAAOJ,KAAP;AAEH;;AACD,SAAKT,SAAL;AAAgB;AACZ,iCAAYS,KAAZ;AAAmBL,UAAAA,SAAS,qBAAMM,MAAM,CAACO,KAAb;AAA5B;AACH;;AACD,SAAKhB,gBAAL;AAAuB;AACnB,iCAAYQ,KAAZ;AAAmBH,UAAAA,WAAW,EAAEG,KAAK,CAACH;AAAtC;AACH;;AACD,SAAKJ,oBAAL;AAA2B;AACvB,iCAAYO,KAAZ;AAAmBL,UAAAA,SAAS,+BAAMK,KAAK,CAACL,SAAZ,sBAA0BM,MAAM,CAACO,KAAjC;AAA5B;AACH;AAzBL;;AA4BA,SAAOR,KAAP;AACH,CA/BD;;AAiCA,OAAO,IAAMS,eAAe,GAAG,SAAlBA,eAAkB,CAACH,MAAD;AAAA,SAAa;AAACJ,IAAAA,IAAI,EAAEZ,aAAP;AAAsBgB,IAAAA,MAAM,EAANA;AAAtB,GAAb;AAAA,CAAxB;AACP,OAAO,IAAMI,UAAU,GAAG,SAAbA,UAAa,CAACF,KAAD;AAAA,SAAY;AAACN,IAAAA,IAAI,EAAEX,SAAP;AAAkBiB,IAAAA,KAAK,EAALA;AAAlB,GAAZ;AAAA,CAAnB;AACP,OAAO,IAAMG,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACd,WAAD;AAAA,SAAkB;AAACK,IAAAA,IAAI,EAAEV,gBAAP;AAAyBK,IAAAA,WAAW,EAAXA;AAAzB,GAAlB;AAAA,CAAzB;AACP,OAAO,IAAMe,cAAc,GAAG,SAAjBA,cAAiB,CAACC,KAAD;AAAA,SAAY;AAACX,IAAAA,IAAI,EAAET,oBAAP;AAA6BoB,IAAAA,KAAK,EAALA;AAA7B,GAAZ;AAAA,CAAvB;AAEP,eAAed,aAAf","sourcesContent":["const SWITCH_FOLLOW = \"SWITCH_FOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_PAGE_COUNT = \"SET_TOTAL_PAGE_COUNT\";\r\n\r\nlet initialState = {\r\n    usersData: [],\r\n    pageSize: 5,\r\n    currentPage: 1,\r\n    pageCount: 0\r\n}\r\n\r\nlet users_reducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case SWITCH_FOLLOW: {\r\n\r\n                return {\r\n                    ...state,\r\n                    usersData: state.usersData.map( u => {\r\n                        if(u.id === action.userId){\r\n                            return {...u, followed: !u.followed}\r\n                        }\r\n                        return u\r\n                    })\r\n                }\r\n\r\n            return state\r\n\r\n        }\r\n        case SET_USERS: {\r\n            return { ...state, usersData: [...action.users]}\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return { ...state, currentPage: state.currentPage}\r\n        }\r\n        case SET_TOTAL_PAGE_COUNT: {\r\n            return { ...state, usersData: [...state.usersData, ...action.users]}\r\n        }\r\n    }\r\n\r\n    return state\r\n}\r\n\r\nexport const switch_followAC = (userId) => ({type: SWITCH_FOLLOW, userId});\r\nexport const setUsersAC = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPageAC = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setPageCountAC = (count) => ({type: SET_TOTAL_PAGE_COUNT, count});\r\n\r\nexport default users_reducer"]},"metadata":{},"sourceType":"module"}