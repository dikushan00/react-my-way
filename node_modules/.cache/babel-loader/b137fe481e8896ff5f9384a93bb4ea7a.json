{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\dikush\\\\Documents\\\\GitHub\\\\react-my-way\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\dikush\\\\Documents\\\\GitHub\\\\react-my-way\\\\src\\\\components\\\\News\\\\newsItem\\\\NewsItem.tsx\";\n\nimport React, { useState } from 'react';\nimport s from './NewsItem.module.css';\nimport commentPhoto from \"../../../img/comment2.svg\";\nimport likesPhoto from \"../../../img/heart.svg\";\nimport commentUserPhoto from '../../../img/user22.jpg';\nimport likesPhotoActive from \"../../../img/heart_active.svg\";\nimport userPhoto from \"../../../img/user(1).svg\";\nimport { Element } from '../../common/FormControl/FormControl';\nimport { reduxForm, Field, reset } from 'redux-form';\nimport { useDispatch, useSelector } from 'react-redux';\n\nvar NewsItem = function NewsItem(_ref) {\n  var post = _ref.post;\n  var dispatch = useDispatch();\n  var avatarPhoto = useSelector(function (state) {\n    return state.profilePage.photos?.large;\n  });\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isBigMode = _useState2[0],\n      setBigMode = _useState2[1];\n\n  var onAddComment = function onAddComment(data) {\n    if (data['comment' + post.id]) {\n      dispatch(addComment(post.id, data['comment' + post.id]));\n      dispatch(updateCommentCount(post.id));\n      dispatch(reset('commentForm'));\n    }\n  };\n\n  var onAddLike = function onAddLike(id) {\n    dispatch(updateLikeCount(id));\n  };\n\n  if (isBigMode) {\n    document.body.classList.add('pop_overflow');\n  } else {\n    document.body.classList.remove('pop_overflow');\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: s.newsItem,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: s.newsItemContent,\n    onClick: function onClick() {\n      return setBigMode(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      display: \"flex\",\n      alignItems: \"center\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 21\n    }\n  }, post.avatar ? /*#__PURE__*/React.createElement(\"img\", {\n    src: post.avatar,\n    alt: \"PHOTO\",\n    className: s.userImg,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 31\n    }\n  }) : /*#__PURE__*/React.createElement(\"img\", {\n    src: userPhoto,\n    alt: \"PHOTO\",\n    className: s.userImg,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 31\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    className: s.user,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 21\n    }\n  }, post.fullName)), /*#__PURE__*/React.createElement(\"span\", {\n    className: s.newsTitle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, \" \", post.title, \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: post.photo,\n    alt: \"Photo\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: s.reviewCount,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, post.liked ? /*#__PURE__*/React.createElement(\"img\", {\n    src: likesPhotoActive,\n    alt: \"PHOTO\",\n    className: s.reviewIcon,\n    onClick: function onClick() {\n      return onAddLike(post.id);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 23\n    }\n  }) : /*#__PURE__*/React.createElement(\"img\", {\n    src: likesPhoto,\n    alt: \"PHOTO\",\n    className: s.reviewIcon,\n    onClick: function onClick() {\n      return onAddLike(post.id);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 23\n    }\n  }), \" \", post.likesCount), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 18\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: commentPhoto,\n    alt: \"PHOTO\",\n    className: s.reviewIcon,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }\n  }), post.CommentsCount)), /*#__PURE__*/React.createElement(CommentFormRedux, {\n    onSubmit: onAddComment,\n    id: post.id,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(NewsCommentsArea, {\n    post: post,\n    avatarPhoto: avatarPhoto,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }), isBigMode && /*#__PURE__*/React.createElement(NewsItemBigMode, {\n    post: post,\n    avatarPhoto: avatarPhoto,\n    onAddLike: onAddLike,\n    isBigMode: isBigMode,\n    setBigMode: setBigMode,\n    onAddComment: onAddComment,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 30\n    }\n  }));\n};\n\nvar NewsItemBigMode = function NewsItemBigMode(_ref2) {\n  var post = _ref2.post,\n      onAddLike = _ref2.onAddLike,\n      isBigMode = _ref2.isBigMode,\n      setBigMode = _ref2.setBigMode,\n      onAddComment = _ref2.onAddComment,\n      avatarPhoto = _ref2.avatarPhoto;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"overlay\",\n    className: isBigMode ? \"overlay\" : '',\n    onClick: function onClick() {\n      return setBigMode(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: isBigMode ? s.BigModeArea : '',\n    id: s.BigModeArea,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      alignItems: \"center\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: post.photo,\n    alt: \"PHOTO\",\n    className: s.postImg,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: s.rightContent,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      display: \"flex\",\n      alignItems: \"center\",\n      height: \"60px\",\n      borderBottom: \"1px solid #ccc\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }, post.avatar ? /*#__PURE__*/React.createElement(\"img\", {\n    src: post.avatar,\n    alt: \"PHOTO\",\n    className: s.userImg,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 27\n    }\n  }) : /*#__PURE__*/React.createElement(\"img\", {\n    src: userPhoto,\n    alt: \"PHOTO\",\n    className: s.userImg,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 27\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    className: s.user,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, post.fullName)), /*#__PURE__*/React.createElement(\"div\", {\n    className: s.reviewCount,\n    style: {\n      border: 0\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, post.liked ? /*#__PURE__*/React.createElement(\"img\", {\n    src: likesPhotoActive,\n    alt: \"PHOTO\",\n    className: s.reviewIcon,\n    onClick: function onClick() {\n      return onAddLike(post.id);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 27\n    }\n  }) : /*#__PURE__*/React.createElement(\"img\", {\n    src: likesPhoto,\n    alt: \"PHOTO\",\n    className: s.reviewIcon,\n    onClick: function onClick() {\n      return onAddLike(post.id);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 27\n    }\n  }), \" \", post.likesCount)), /*#__PURE__*/React.createElement(CommentFormRedux, {\n    onSubmit: onAddComment,\n    id: post.id,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(NewsCommentsArea, {\n    post: post,\n    avatarPhoto: avatarPhoto,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"span\", {\n    className: s.closeBig,\n    onClick: function onClick() {\n      return setBigMode(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 5\n    }\n  }));\n};\n\nvar NewsCommentsArea = function NewsCommentsArea(_ref3) {\n  var post = _ref3.post,\n      avatarPhoto = _ref3.avatarPhoto;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: s.commentsArea,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 12\n    }\n  }, post.comments.map(function (item) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: s.commentsItem,\n      key: item.userId,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }\n    }, item.photo ? /*#__PURE__*/React.createElement(\"img\", {\n      src: item.photo,\n      alt: \"Photo\",\n      className: s.commentPhoto,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 19\n      }\n    }) : /*#__PURE__*/React.createElement(\"img\", {\n      src: avatarPhoto ? avatarPhoto : commentUserPhoto,\n      alt: \"Photo\",\n      className: s.commentPhoto,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    }, item.fullName), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        paddingLeft: '15px',\n        margin: 0\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }\n    }, item.text)));\n  }));\n};\n\nvar Input = Element('input');\n\nvar CommentForm = function CommentForm(props) {\n  return /*#__PURE__*/React.createElement(\"form\", {\n    className: s.inputComment,\n    onSubmit: props.handleSubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(Field, {\n    placeholder: \"Write your comment\",\n    name: 'comment' + props.id,\n    component: Input,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }\n  }, \"Send\"));\n};\n\nvar CommentFormRedux = reduxForm({\n  form: 'commentForm'\n})(CommentForm);\nexport default NewsItem;","map":{"version":3,"sources":["C:/Users/dikush/Documents/GitHub/react-my-way/src/components/News/newsItem/NewsItem.tsx"],"names":["React","useState","s","commentUserPhoto","Element","reduxForm","Field","reset","useDispatch","useSelector","NewsItem","post","dispatch","avatarPhoto","state","profilePage","photos","large","isBigMode","setBigMode","onAddComment","data","id","addComment","updateCommentCount","onAddLike","updateLikeCount","document","body","classList","add","remove","newsItem","newsItemContent","display","alignItems","avatar","userImg","userPhoto","user","fullName","newsTitle","title","photo","reviewCount","liked","likesPhotoActive","reviewIcon","likesPhoto","likesCount","commentPhoto","CommentsCount","NewsItemBigMode","BigModeArea","postImg","rightContent","height","borderBottom","border","closeBig","NewsCommentsArea","commentsArea","comments","map","item","commentsItem","userId","paddingLeft","margin","text","Input","CommentForm","props","inputComment","handleSubmit","CommentFormRedux","form"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport s from './NewsItem.module.css'\r\nimport commentPhoto from '../../../img/comment2.svg'\r\nimport likesPhoto from '../../../img/heart.svg'\r\nimport commentUserPhoto from '../../../img/user22.jpg'\r\nimport likesPhotoActive from '../../../img/heart_active.svg'\r\nimport userPhoto from '../../../img/user(1).svg'\r\nimport {Element} from '../../common/FormControl/FormControl';\r\nimport { reduxForm, Field, InjectedFormProps, reset } from 'redux-form';\r\nimport {NewsItemType} from '../../../redux/news_reducer'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { AppStateType } from '../../../redux/store-redux';\r\n\r\nconst NewsItem: React.FC<PropsType> = ({post}) => {\r\n\r\n    const dispatch = useDispatch()\r\n    const avatarPhoto = useSelector((state: AppStateType) => state.profilePage.photos?.large)\r\n    const [isBigMode, setBigMode] = useState(false)\r\n\r\n    let onAddComment = (data: any) => {\r\n        if(data['comment' + post.id]){\r\n            dispatch(addComment(post.id, data['comment' + post.id]))\r\n            dispatch(updateCommentCount(post.id))\r\n            dispatch(reset('commentForm'))\r\n        }\r\n    }\r\n\r\n    let onAddLike = (id: number) => {\r\n        dispatch(updateLikeCount(id))\r\n    }\r\n\r\n    if(isBigMode) {\r\n        document.body.classList.add('pop_overflow')\r\n    } else {\r\n        document.body.classList.remove('pop_overflow')\r\n    }\r\n\r\n    return (\r\n        <div className={s.newsItem}>\r\n            <div className = {s.newsItemContent} onClick = {() => setBigMode(true)}>\r\n                <span style = {{display: \"flex\", alignItems: \"center\"}}>\r\n                    <span>\r\n                        {\r\n                        post.avatar \r\n                            ? <img src={post.avatar} alt=\"PHOTO\" className={s.userImg}/>\r\n                            : <img src={userPhoto} alt=\"PHOTO\" className={s.userImg}/>\r\n                        }\r\n                    </span>\r\n                    <span className={s.user}>{post.fullName}</span>\r\n                </span>\r\n                <span className={s.newsTitle}> {post.title} </span>\r\n                <div>\r\n                    <img src={post.photo} alt=\"Photo\"/>\r\n                </div>\r\n            </div>\r\n            <div className={s.reviewCount}> \r\n                <span>\r\n                {\r\n                    post.liked \r\n                    ? <img src={likesPhotoActive} alt=\"PHOTO\" className={s.reviewIcon} onClick={() => onAddLike(post.id)}/>\r\n                    : <img src={likesPhoto} alt=\"PHOTO\" className={s.reviewIcon} onClick={() => onAddLike(post.id)}/>\r\n                } {post.likesCount} \r\n                </span>\r\n                 <span> \r\n                    <img src={commentPhoto} alt=\"PHOTO\" className={s.reviewIcon}/>{post.CommentsCount} \r\n                 </span> \r\n            </div>\r\n            <CommentFormRedux onSubmit={onAddComment} id = {post.id}/>\r\n            <NewsCommentsArea post = {post} avatarPhoto = {avatarPhoto}/>\r\n            {\r\n                isBigMode && <NewsItemBigMode post = {post} avatarPhoto = {avatarPhoto} onAddLike = {onAddLike} isBigMode = {isBigMode} setBigMode = {setBigMode} onAddComment = {onAddComment} />\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nconst NewsItemBigMode: React.FC<BigModeType> = ({post, onAddLike, isBigMode, setBigMode, onAddComment, avatarPhoto}) => {\r\n\r\n    return <>\r\n    <div id=\"overlay\" className = {isBigMode ? \"overlay\" : ''} onClick={() => setBigMode(false)}></div>\r\n    <div className = {isBigMode  ? s.BigModeArea : ''} id = {s.BigModeArea}>\r\n        <div style = {{ display: \"flex\", alignItems: \"center\"}} >\r\n            <img src={post.photo} alt=\"PHOTO\" className = {s.postImg}/>\r\n        </div>\r\n        <div className = {s.rightContent} >\r\n            <span style = {{display: \"flex\", alignItems: \"center\", height: \"60px\", borderBottom: \"1px solid #ccc\"}}>\r\n                <span>\r\n                    {\r\n                    post.avatar \r\n                        ? <img src={post.avatar} alt=\"PHOTO\" className={s.userImg}/>\r\n                        : <img src={userPhoto} alt=\"PHOTO\" className={s.userImg}/>\r\n                    }\r\n                </span>\r\n                <span className={s.user}>{post.fullName}</span>\r\n            </span>\r\n            <div className={s.reviewCount} style = {{border: 0}}> \r\n                <span>\r\n                    {\r\n                    post.liked \r\n                        ? <img src={likesPhotoActive} alt=\"PHOTO\" className={s.reviewIcon} onClick={() => onAddLike(post.id)}/>\r\n                        : <img src={likesPhoto} alt=\"PHOTO\" className={s.reviewIcon} onClick={() => onAddLike(post.id)}/>\r\n                    } {post.likesCount} \r\n                </span>\r\n            </div>\r\n            <CommentFormRedux onSubmit={ onAddComment } id = {post.id}/>\r\n            <NewsCommentsArea post = {post} avatarPhoto = {avatarPhoto}/>\r\n        </div>\r\n    </div>\r\n    <span className = {s.closeBig} onClick={() => setBigMode(false)}></span>\r\n    </>\r\n}\r\n\r\nconst NewsCommentsArea: React.FC<NewsCommentsAreaType> = ({post, avatarPhoto}) => {\r\n\r\n    return <div className={s.commentsArea}>\r\n    { post.comments.map(item => (\r\n        <div className={s.commentsItem} key={item.userId}>\r\n            {\r\n            item.photo \r\n                ? <img src={item.photo } alt=\"Photo\" className={s.commentPhoto}/>\r\n                : <img src={ avatarPhoto ? avatarPhoto : commentUserPhoto } alt=\"Photo\" className={s.commentPhoto}/>\r\n            }\r\n          <div>\r\n                <span>{item.fullName}</span>\r\n                <p style={{paddingLeft: '15px', margin: 0}}>{item.text}</p>\r\n            </div>\r\n        </div>\r\n    ))}\r\n</div>\r\n}\r\n\r\nconst Input = Element('input');\r\n\r\nconst CommentForm: React.FC<InjectedFormProps<CommentFormValuesType, CommentFormPropsType> & CommentFormPropsType> = (props) => {\r\n    return <form className={s.inputComment} onSubmit={props.handleSubmit}>\r\n        <Field placeholder='Write your comment' name={'comment'  + props.id as CommentFormValuesKeys} component = {Input}/>\r\n        <button type = 'submit' className='btn'>Send</button>\r\n    </form>\r\n}\r\n\r\nconst CommentFormRedux = reduxForm<CommentFormValuesType, CommentFormPropsType>({form: 'commentForm'})(CommentForm)\r\n\r\nexport default NewsItem;\r\n\r\n\r\n\r\ntype CommentFormValuesType = {\r\n    comment: string\r\n}\r\n\r\ntype CommentFormPropsType = {\r\n    id: number\r\n}\r\n\r\ntype NewsCommentsAreaType = {\r\n    post: NewsItemType\r\n    avatarPhoto: string | null | undefined\r\n}\r\n\r\ntype BigModeType = {\r\n    post: NewsItemType\r\n    isBigMode: boolean\r\n    avatarPhoto: string | null | undefined\r\n\r\n    onAddComment: (data: {comment: string}) => void\r\n    setBigMode: (n: boolean) => void\r\n    onAddLike: (id: number) => void\r\n}\r\n\r\ntype PropsType = {\r\n    post: NewsItemType\r\n}\r\n\r\ntype CommentFormValuesKeys = Extract<keyof CommentFormValuesType, string>"]},"metadata":{},"sourceType":"module"}