{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\dikush\\\\Documents\\\\GitHub\\\\react-my-way\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"C:\\\\Users\\\\dikush\\\\Documents\\\\GitHub\\\\react-my-way\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nvar ADD_NEW_COMMENT = \"ADD_NEW_COMMENT\";\nvar UPDATE_NEW_COMMENT = \"UPDATE_NEW_COMMENT\";\nvar UPDATE_LIKE_COUNT = \"UPDATE_LIKE_COUNT\";\nvar UPDATE_COMMENT_COUNT = \"UPDATE_COMMENT_COUNT\";\nvar id = 3;\nvar initialState = {\n  news: [{\n    id: 1,\n    fullName: 'Уютный домик',\n    title: \"Hello everyone. it is my first news post!\",\n    avatar: \"http://a824.phobos.apple.com/us/r30/Purple3/v4/47/47/e2/4747e282-b06d-8c33-c4d8-b9c22db8abad/pr_source.png?downloadKey=1422036762_0750e892c607d16376f15f0523f383d6\",\n    photo: \"https://sun1.dataix-kz-akkol.userapi.com/LfIHTeWVcS-8YZ_aHd92yzk14ja88dRD_nvHPQ/w073PwJeeiw.jpg\",\n    comments: [{\n      userId: 1,\n      commentId: 1,\n      fullName: 'Башаров Максим',\n      text: \"its awesome!\",\n      photo: 'https://i.pinimg.com/736x/8f/f6/08/8ff60864af4b3eebc06a8bbabcf0c21b.jpg'\n    }, {\n      userId: 2,\n      commentId: 2,\n      fullName: 'Башаров Максим',\n      text: \"How are you?\",\n      photo: 'https://avatars.mds.yandex.net/get-zen_doc/229614/pub_5db308ea5ba2b500b6bb0d1d_5db309208d5b5f00afb1fe92/scale_1200'\n    }],\n    likesCount: 5,\n    CommentsCount: 2,\n    liked: false\n  }, {\n    id: 2,\n    fullName: 'Уютный домик',\n    title: \"Today wether is good\",\n    avatar: \"https://yt3.ggpht.com/a/AATXAJwu0fvICSBsYl9qzOz1sjoyoxfEP2aPplVF7d9H=s900-c-k-c0xffffffff-no-rj-mo\",\n    photo: \"https://sun2.dataix-kz-akkol.userapi.com/SbXuX7CfH2yP0bsr4mIs9GanXgXYs75aVATSMQ/2_lqVldYMD8.jpg\",\n    comments: [{\n      userId: 2,\n      commentId: 2,\n      fullName: 'Бектемисов Тамерлан',\n      text: \"Kazakhstan!!!\",\n      photo: 'https://www.trendsmap.com/ipx/https://pbs.twimg.com/profile_images/926488420645523456/hwKSfqNj.jpg'\n    }],\n    likesCount: 13,\n    CommentsCount: 1,\n    liked: true\n  }, {\n    id: 3,\n    fullName: 'Приколы за 253',\n    title: \"Im go to school\",\n    avatar: \"https://yt3.ggpht.com/a/AATXAJwNrBajG2GHjhDoh5dd4Ol6bgmpNmIFCcA8DeLvaA=s900-c-k-c0xffffffff-no-rj-mo\",\n    photo: \"https://sun1.dataix-kz-akkol.userapi.com/a8fcn9yq_1q5LmUyvtlNJtpJri_4wzIhBHVBpA/l5RZ3MHaIVs.jpg\",\n    comments: [{\n      userId: 3,\n      commentId: 3,\n      fullName: 'Байбекова Айдана',\n      text: \"COol!\",\n      photo: 'https://yt3.ggpht.com/a/AATXAJz96SEqjCTeAd4fIKN-cMmEeqGU26eHSkwB9JISgg=s900-c-k-c0xffffffff-no-rj-mo'\n    }],\n    likesCount: 12,\n    CommentsCount: 1,\n    liked: false\n  }, {\n    id: 4,\n    fullName: 'Мем фром драг дилла',\n    title: \"Why he not me?!\",\n    avatar: \"https://yt3.ggpht.com/a/AATXAJw0vq_YrFUkbgA2WYAGe0upS4MeD1QJZomS4QaE=s900-c-k-c0xffffffff-no-rj-mo\",\n    photo: \"https://sun2.dataix-kz-akkol.userapi.com/-w6xt617vU9CdgCKkmrtnCtQOnGOTT7eGIeTjA/H-8hFLwllLA.jpg\",\n    comments: [{\n      userId: 4,\n      commentId: 4,\n      fullName: 'Тастемирова Томирис',\n      text: \"Go walk with me>\",\n      photo: 'https://cdn.freelance.ru/img/portfolio/pics/00/3A/2C/3812566.jpg?mt=d239b33b'\n    }],\n    likesCount: 1,\n    CommentsCount: 1,\n    liked: false\n  }]\n};\n\nvar news_reducer = function news_reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_NEW_COMMENT:\n      {\n        if (action.newCommentText.length > 0) {\n          return _objectSpread({}, state, {\n            news: state.news.map(function (item) {\n              if (item.id === action.id) item.comments = [].concat(_toConsumableArray(item.comments), [{\n                userId: 5,\n                fullName: 'dikushan00',\n                commentId: 5,\n                text: action.newCommentText\n              }]);\n              return item;\n            })\n          });\n          id++;\n        }\n\n        return state;\n      }\n\n    case UPDATE_LIKE_COUNT:\n      {\n        return _objectSpread({}, state, {\n          news: state.news.map(function (item) {\n            if (item.id === action.id && !item.liked) {\n              item.likesCount = item.likesCount + 1;\n              item.liked = !item.liked;\n            } else if (item.id === action.id && item.liked) {\n              item.likesCount = item.likesCount - 1;\n              item.liked = !item.liked;\n            }\n\n            return item;\n          })\n        });\n      }\n\n    case UPDATE_COMMENT_COUNT:\n      {\n        return _objectSpread({}, state, {\n          news: state.news.map(function (item) {\n            if (item.id === action.id) item.CommentsCount++;\n            return item;\n          })\n        });\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n};\n\nexport var addNewComment = function addNewComment(id, newCommentText) {\n  return {\n    type: ADD_NEW_COMMENT,\n    id: id,\n    newCommentText: newCommentText\n  };\n};\nexport var updateLikeCount = function updateLikeCount(id) {\n  return {\n    type: UPDATE_LIKE_COUNT,\n    id: id\n  };\n};\nexport var updateCommentCount = function updateCommentCount(id) {\n  return {\n    type: UPDATE_COMMENT_COUNT,\n    id: id\n  };\n};\nexport default news_reducer;","map":{"version":3,"sources":["C:/Users/dikush/Documents/GitHub/react-my-way/src/redux/news_reducer.js"],"names":["ADD_NEW_COMMENT","UPDATE_NEW_COMMENT","UPDATE_LIKE_COUNT","UPDATE_COMMENT_COUNT","id","initialState","news","fullName","title","avatar","photo","comments","userId","commentId","text","likesCount","CommentsCount","liked","news_reducer","state","action","type","newCommentText","length","map","item","addNewComment","updateLikeCount","updateCommentCount"],"mappings":"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","sourcesContent":["const ADD_NEW_COMMENT = \"ADD_NEW_COMMENT\";\r\nconst UPDATE_NEW_COMMENT = \"UPDATE_NEW_COMMENT\";\r\nconst UPDATE_LIKE_COUNT = \"UPDATE_LIKE_COUNT\";\r\nconst UPDATE_COMMENT_COUNT = \"UPDATE_COMMENT_COUNT\";\r\nlet id = 3;\r\n\r\nlet initialState = {\r\n    news: [\r\n        {\r\n            id: 1,\r\n            fullName: 'Уютный домик',\r\n            title: \"Hello everyone. it is my first news post!\",\r\n            avatar: \"http://a824.phobos.apple.com/us/r30/Purple3/v4/47/47/e2/4747e282-b06d-8c33-c4d8-b9c22db8abad/pr_source.png?downloadKey=1422036762_0750e892c607d16376f15f0523f383d6\",\r\n            photo: \"https://sun1.dataix-kz-akkol.userapi.com/LfIHTeWVcS-8YZ_aHd92yzk14ja88dRD_nvHPQ/w073PwJeeiw.jpg\",\r\n            comments: [{userId: 1, commentId: 1, fullName: 'Башаров Максим', text: \"its awesome!\", photo: 'https://i.pinimg.com/736x/8f/f6/08/8ff60864af4b3eebc06a8bbabcf0c21b.jpg'}, {userId: 2, commentId: 2, fullName: 'Башаров Максим', text: \"How are you?\", photo: 'https://avatars.mds.yandex.net/get-zen_doc/229614/pub_5db308ea5ba2b500b6bb0d1d_5db309208d5b5f00afb1fe92/scale_1200'}],\r\n            likesCount: 5,\r\n            CommentsCount: 2,\r\n            liked: false\r\n        },\r\n        {\r\n            id: 2,\r\n            fullName: 'Уютный домик',\r\n            title: \"Today wether is good\",\r\n            avatar: \"https://yt3.ggpht.com/a/AATXAJwu0fvICSBsYl9qzOz1sjoyoxfEP2aPplVF7d9H=s900-c-k-c0xffffffff-no-rj-mo\",\r\n            photo: \"https://sun2.dataix-kz-akkol.userapi.com/SbXuX7CfH2yP0bsr4mIs9GanXgXYs75aVATSMQ/2_lqVldYMD8.jpg\",\r\n            comments: [{userId: 2, commentId: 2, fullName: 'Бектемисов Тамерлан', text: \"Kazakhstan!!!\", photo: 'https://www.trendsmap.com/ipx/https://pbs.twimg.com/profile_images/926488420645523456/hwKSfqNj.jpg'}],\r\n            likesCount: 13,\r\n            CommentsCount: 1,\r\n            liked: true\r\n        },\r\n        {\r\n            id: 3,\r\n            fullName: 'Приколы за 253',\r\n            title: \"Im go to school\",\r\n            avatar: \"https://yt3.ggpht.com/a/AATXAJwNrBajG2GHjhDoh5dd4Ol6bgmpNmIFCcA8DeLvaA=s900-c-k-c0xffffffff-no-rj-mo\",\r\n            photo: \"https://sun1.dataix-kz-akkol.userapi.com/a8fcn9yq_1q5LmUyvtlNJtpJri_4wzIhBHVBpA/l5RZ3MHaIVs.jpg\",\r\n            comments: [{userId: 3, commentId: 3, fullName: 'Байбекова Айдана', text: \"COol!\", photo: 'https://yt3.ggpht.com/a/AATXAJz96SEqjCTeAd4fIKN-cMmEeqGU26eHSkwB9JISgg=s900-c-k-c0xffffffff-no-rj-mo'}],\r\n            likesCount: 12,\r\n            CommentsCount: 1,\r\n            liked: false\r\n        },\r\n        {\r\n            id: 4,\r\n            fullName: 'Мем фром драг дилла',\r\n            title: \"Why he not me?!\",\r\n            avatar: \"https://yt3.ggpht.com/a/AATXAJw0vq_YrFUkbgA2WYAGe0upS4MeD1QJZomS4QaE=s900-c-k-c0xffffffff-no-rj-mo\",\r\n            photo: \"https://sun2.dataix-kz-akkol.userapi.com/-w6xt617vU9CdgCKkmrtnCtQOnGOTT7eGIeTjA/H-8hFLwllLA.jpg\",\r\n            comments: [{userId: 4, commentId: 4, fullName: 'Тастемирова Томирис', text: \"Go walk with me>\", photo: 'https://cdn.freelance.ru/img/portfolio/pics/00/3A/2C/3812566.jpg?mt=d239b33b'}],\r\n            likesCount: 1,\r\n            CommentsCount: 1,\r\n            liked: false\r\n        }\r\n    ]\r\n}\r\n\r\n\r\nlet news_reducer = (state = initialState, action) => {\r\n    \r\n\r\n    switch (action.type) {\r\n\r\n        case ADD_NEW_COMMENT: {\r\n            if (action.newCommentText.length > 0){\r\n                return {\r\n                    ...state,\r\n                    news: state.news.map(item => {\r\n                        if(item.id === action.id)\r\n                            item.comments = [...item.comments, {userId: 5, fullName: 'dikushan00', commentId: 5, text: action.newCommentText}]\r\n                        return item\r\n                    })\r\n                }\r\n                id++;\r\n            }\r\n            return state\r\n        }\r\n\r\n        case UPDATE_LIKE_COUNT: {\r\n            \r\n            return {\r\n                ...state,\r\n                news: state.news.map(item => {\r\n                    if(item.id === action.id && !item.liked){\r\n                        item.likesCount = item.likesCount + 1\r\n                        item.liked = !item.liked \r\n                    } else if(item.id === action.id && item.liked) {\r\n                        item.likesCount = item.likesCount - 1 \r\n                        item.liked = !item.liked \r\n                    }\r\n                    return item\r\n                })\r\n            }\r\n        }\r\n\r\n        case UPDATE_COMMENT_COUNT: {\r\n\r\n            return {\r\n                ...state,\r\n                news: state.news.map(item => {\r\n                    if(item.id === action.id)\r\n                        item.CommentsCount++\r\n                    return item\r\n                })\r\n            }\r\n        }\r\n\r\n        default: {\r\n            return state\r\n        }\r\n    }\r\n}\r\n\r\nexport const addNewComment = (id, newCommentText) => ({type: ADD_NEW_COMMENT, id, newCommentText})\r\nexport const updateLikeCount = (id) => ({type: UPDATE_LIKE_COUNT, id})\r\nexport const updateCommentCount = (id) => ({type: UPDATE_COMMENT_COUNT, id})\r\n\r\nexport default news_reducer"]},"metadata":{},"sourceType":"module"}