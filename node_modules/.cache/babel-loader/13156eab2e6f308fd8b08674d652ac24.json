{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\dikush\\\\Documents\\\\GitHub\\\\react-my-way\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\dikush\\\\Documents\\\\GitHub\\\\react-my-way\\\\src\\\\components\\\\Profile\\\\ProfileInfo\\\\ProfilInfo.tsx\";\n\nimport React, { useState } from 'react';\nimport s from './ProfileInfo.module.css';\nimport Preloader from '../../common/Preloader/Preloader';\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\nimport { ProfileDataFormRedux } from \"./ProfileDataForm\";\nimport 'react-image-crop/dist/ReactCrop.css';\nimport AvatarPhoto from './AvatarPhoto';\nimport ProfileData from './ProfileData';\nimport photoUser from \"../../../img/user.svg\";\n\nvar ProfileInfo = function ProfileInfo(props) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      editMode = _useState2[0],\n      setEditMode = _useState2[1];\n\n  var onSubmit = function onSubmit(data) {\n    props.saveProfile(data).then(function () {\n      setEditMode(false);\n    });\n  };\n\n  if (!props.profile) {\n    return /*#__PURE__*/React.createElement(Preloader, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 20\n      }\n    });\n  }\n\n  var switch_follow = function switch_follow(followed, userId) {\n    if (followed) {\n      props.unfollow(userId);\n    } else {\n      props.follow(userId);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: s.descriptionBlock,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 17\n    }\n  }, props.isOwner ? /*#__PURE__*/React.createElement(AvatarPhoto, {\n    avatar: props.profile.photos.large,\n    fullName: props.profile.fullName,\n    isOwner: props.isOwner,\n    updatePhoto: props.updatePhoto,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 31\n    }\n  }) //@ts-ignore\n  :\n  /*#__PURE__*/\n  React.createElement(\"img\", {\n    src: props.profile.photos.large ? props.profile.photos.large : photoUser,\n    className: s.avaImg,\n    alt: \"PHOTO\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 31\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginLeft: \"20px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 28\n    }\n  }, props.profile.fullName || 'unknown user ')), /*#__PURE__*/React.createElement(ProfileStatusWithHooks, {\n    status: props.status,\n    updateStatus: props.updateStatus,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 25\n    }\n  }))), editMode //@ts-ignore\n  ?\n  /*#__PURE__*/\n  React.createElement(ProfileDataFormRedux, {\n    initialValues: props.profile,\n    profile: props.profile,\n    onSubmit: onSubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 23\n    }\n  }) : /*#__PURE__*/React.createElement(ProfileData, {\n    profile: props.profile,\n    onEditMode: function onEditMode() {\n      return setEditMode(true);\n    },\n    isOwner: props.isOwner,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 23\n    }\n  }), !props.isOwner && props.friends.some(function (item) {\n    return props.profile && item.id === props.profile.userId;\n  }) ? /*#__PURE__*/React.createElement(\"button\", {\n    className: s.btnFollow + ' ' + s.btnRed,\n    onClick: function onClick() {\n      return switch_follow(true, props.profile && props.profile.userId);\n    },\n    disabled: props.toggleProgressArr.some(function (id) {\n      return props.profile && id === props.profile.userId;\n    }),\n    key: props.profile.userId,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 27\n    }\n  }, \" Unfollow\") : /*#__PURE__*/React.createElement(\"button\", {\n    className: s.btnFollow + ' ' + s.btnBlue,\n    onClick: function onClick() {\n      return switch_follow(false, props.profile && props.profile.userId);\n    },\n    disabled: props.toggleProgressArr.some(function (id) {\n      return props.profile && id === props.profile.userId;\n    }),\n    key: props.profile.userId,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 27\n    }\n  }, \" Follow\")));\n};\n\nexport default ProfileInfo;","map":{"version":3,"sources":["C:/Users/dikush/Documents/GitHub/react-my-way/src/components/Profile/ProfileInfo/ProfilInfo.tsx"],"names":["React","useState","s","Preloader","ProfileStatusWithHooks","ProfileDataFormRedux","AvatarPhoto","ProfileData","ProfileInfo","props","editMode","setEditMode","onSubmit","data","saveProfile","then","profile","switch_follow","followed","userId","unfollow","follow","descriptionBlock","display","isOwner","photos","large","fullName","updatePhoto","photoUser","avaImg","marginLeft","status","updateStatus","friends","some","item","id","btnFollow","btnRed","toggleProgressArr","btnBlue"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport  s from './ProfileInfo.module.css'\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\nimport {ProfileDataFormRedux} from \"./ProfileDataForm\"\r\nimport {ProfileType, SaveProfileType, UserType} from '../../../Types/Types';\r\nimport 'react-image-crop/dist/ReactCrop.css';\r\nimport AvatarPhoto from './AvatarPhoto';\r\nimport ProfileData from './ProfileData';\r\nimport photoUser from '../../../img/user.svg'\r\n\r\nconst ProfileInfo:React.FC<PropsType> = (props) => {\r\n\r\n    const [editMode, setEditMode] = useState(false)\r\n    \r\n    const onSubmit = (data: SaveProfileType) => {\r\n        props.saveProfile(data).then(() => {\r\n            setEditMode(false)\r\n        });\r\n    }\r\n        if (!props.profile){\r\n            return <Preloader />\r\n        }\r\n\r\n    const switch_follow = (followed: boolean, userId: number | null) => {\r\n        if (followed) {\r\n            props.unfollow(userId)\r\n        } else {\r\n            props.follow(userId)\r\n        }\r\n    }\r\n\r\n        return (<div>\r\n            <div className={s.descriptionBlock}>\r\n                <div style={{display:'flex'}}>\r\n                    {\r\n                        props.isOwner \r\n                            ? <AvatarPhoto \r\n                                avatar = {props.profile.photos.large} \r\n                                fullName = {props.profile.fullName} \r\n                                isOwner = {props.isOwner}\r\n                                updatePhoto = {props.updatePhoto}/>\r\n                                //@ts-ignore\r\n                            : <img src = {props.profile.photos.large ? props.profile.photos.large : photoUser} className = {s.avaImg} alt=\"PHOTO\"/>\r\n                    }\r\n                    <div style={{marginLeft:\"20px\"}}>\r\n                        <p><b>{props.profile.fullName || 'unknown user '}</b></p>\r\n                        <ProfileStatusWithHooks status = {props.status} updateStatus = {props.updateStatus}/>\r\n                    </div>\r\n                </div>\r\n                {\r\n                editMode \r\n                //@ts-ignore\r\n                    ? <ProfileDataFormRedux initialValues = {props.profile} profile = {props.profile} onSubmit = {onSubmit}/>\r\n                    : <ProfileData profile = {props.profile} onEditMode = {() => setEditMode(true)} isOwner={props.isOwner}/>\r\n                }\r\n                {\r\n                    !props.isOwner\r\n                        && props.friends.some(item => { return props.profile && item.id === props.profile.userId}) \r\n                        ? <button className={s.btnFollow + ' ' + (s.btnRed)} onClick={() => switch_follow(true, props.profile && props.profile.userId)}\r\n                                    disabled={props.toggleProgressArr.some(id => props.profile && id === props.profile.userId)} key = {props.profile.userId}> Unfollow\r\n                                </button>\r\n                        : <button className={s.btnFollow + ' ' + (s.btnBlue)} onClick={() => switch_follow(false, props.profile && props.profile.userId)}\r\n                                    disabled={props.toggleProgressArr.some(id => props.profile && id === props.profile.userId)} key = {props.profile.userId}> Follow\r\n                                </button>\r\n                }\r\n            </div>\r\n        </div>);\r\n}\r\n\r\nexport default ProfileInfo;\r\n\r\n\r\ntype PropsType = {\r\n    profile: ProfileType | null\r\n    isOwner: boolean\r\n    status: string\r\n    friends: Array<UserType>\r\n    toggleProgressArr: Array<number>\r\n\r\n    updatePhoto: (file: File) => void\r\n    saveProfile: (data: SaveProfileType) => Promise<SaveProfileType>\r\n    updateStatus: (data: string) => void\r\n    unfollow: (userId: number | null) => void\r\n    follow: (userId: number | null) => void\r\n}"]},"metadata":{},"sourceType":"module"}