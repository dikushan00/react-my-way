{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\dikush\\\\Documents\\\\GitHub\\\\react-my-way\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\dikush\\\\Documents\\\\GitHub\\\\react-my-way\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _toConsumableArray from \"C:\\\\Users\\\\dikush\\\\Documents\\\\GitHub\\\\react-my-way\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"C:\\\\Users\\\\dikush\\\\Documents\\\\GitHub\\\\react-my-way\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport { UsersAPI } from \"../api/api\";\nvar initialState = {\n  usersData: [],\n  pageSize: 100,\n  currentPage: 1,\n  pageCount: 0,\n  isFetching: true,\n  toggleProgressArr: [],\n  friends: [],\n  filter: {\n    term: '',\n    friends: null\n  }\n};\n\nvar users_reducer = function users_reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case 'SN/Users/SWITCH_FOLLOW':\n      {\n        return _objectSpread({}, state, {\n          usersData: state.usersData.map(function (u) {\n            if (u.id === action.userId) {\n              return _objectSpread({}, u, {\n                followed: !u.followed\n              });\n            }\n\n            return u;\n          })\n        });\n      }\n\n    case 'SN/Users/SET_USERS':\n      {\n        return _objectSpread({}, state, {\n          usersData: _toConsumableArray(action.users)\n        });\n      }\n\n    case 'SN/Users/SET_CURRENT_PAGE':\n      {\n        return _objectSpread({}, state, {\n          currentPage: action.currentPage\n        });\n      }\n\n    case 'SN/Users/SET_TOTAL_PAGE_COUNT':\n      {\n        return _objectSpread({}, state, {\n          pageCount: action.count\n        });\n      }\n\n    case 'SN/Users/TOGGLE_FETCHING':\n      {\n        return _objectSpread({}, state, {\n          isFetching: action.isFetching\n        });\n      }\n\n    case 'SN/Users/TOGGLE_PROGRESS':\n      {\n        debugger;\n        return _objectSpread({}, state, {\n          toggleProgressArr: action.isFetching ? [].concat(_toConsumableArray(state.toggleProgressArr), [action.id]) //@ts-ignore\n          : toggleProgressArr.filter(function (id) {\n            return id !== action.id;\n          })\n        });\n      }\n\n    case 'SN/Users/GET_FRIENDS':\n      {\n        return _objectSpread({}, state, {\n          friends: _toConsumableArray(action.friends)\n        });\n      }\n\n    case 'SN/Users/GET_FILTER':\n      {\n        return _objectSpread({}, state, {\n          filter: {\n            term: action.filter.term,\n            friends: action.filter.friends\n          }\n        });\n      }\n\n    default:\n      {\n        return state;\n      }\n  }\n};\n\nexport var actions = {\n  switch_follow: function switch_follow(userId) {\n    return {\n      type: 'SN/Users/SWITCH_FOLLOW',\n      userId: userId\n    };\n  },\n  setUsers: function setUsers(users) {\n    return {\n      type: 'SN/Users/SET_USERS',\n      users: users\n    };\n  },\n  setCurrentPage: function setCurrentPage(currentPage) {\n    return {\n      type: 'SN/Users/SET_CURRENT_PAGE',\n      currentPage: currentPage\n    };\n  },\n  setPageCount: function setPageCount(count) {\n    return {\n      type: 'SN/Users/SET_TOTAL_PAGE_COUNT',\n      count: count\n    };\n  },\n  toggleIsFetching: function toggleIsFetching(isFetching) {\n    return {\n      type: 'SN/Users/TOGGLE_FETCHING',\n      isFetching: isFetching\n    };\n  },\n  toggleProgress: function toggleProgress(isFetching, id) {\n    return {\n      type: 'SN/Users/TOGGLE_PROGRESS',\n      isFetching: isFetching,\n      id: id\n    };\n  },\n  getFriends: function getFriends(friends) {\n    return {\n      type: 'SN/Users/GET_FRIENDS',\n      friends: friends\n    };\n  },\n  getFilter: function getFilter(filter) {\n    return {\n      type: 'SN/Users/GET_FILTER',\n      filter: filter\n    };\n  }\n};\nexport var getUsers = function getUsers(currentPage, pageSize, filter) {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n      var data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              dispatch(actions.setCurrentPage(currentPage));\n              dispatch(actions.toggleIsFetching(true));\n              dispatch(actions.getFilter(filter));\n              _context.next = 5;\n              return UsersAPI.getUsers(currentPage, pageSize, filter.term, filter.friends);\n\n            case 5:\n              data = _context.sent;\n              dispatch(actions.toggleIsFetching(false));\n              dispatch(actions.setUsers(data.items));\n              dispatch(actions.setPageCount(data.totalCount));\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nexport var getFriends = function getFriends() {\n  return /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch) {\n      var data;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              dispatch(actions.toggleIsFetching(true));\n              _context2.next = 3;\n              return UsersAPI.getFriends();\n\n            case 3:\n              data = _context2.sent;\n              dispatch(actions.toggleIsFetching(false));\n              dispatch(actions.getFriends(data.items));\n\n            case 6:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n};\nexport var follow = function follow(userId) {\n  return /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch) {\n      var data;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              dispatch(actions.toggleProgress(true, userId));\n              _context3.next = 3;\n              return UsersAPI.follow(userId);\n\n            case 3:\n              data = _context3.sent;\n              dispatch(actions.switch_follow(userId));\n              dispatch(actions.toggleProgress(false, userId));\n\n            case 6:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function (_x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n};\nexport var unfollow = function unfollow(userId) {\n  return /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch) {\n      var data;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              dispatch(actions.toggleProgress(true, userId));\n              _context4.next = 3;\n              return UsersAPI.unfollow(userId);\n\n            case 3:\n              data = _context4.sent;\n              dispatch(actions.switch_follow(userId));\n              dispatch(actions.toggleProgress(false, userId));\n\n            case 6:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function (_x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n};\nexport default users_reducer;","map":{"version":3,"sources":["C:/Users/dikush/Documents/GitHub/react-my-way/src/redux/users_reducer.ts"],"names":["UsersAPI","initialState","usersData","pageSize","currentPage","pageCount","isFetching","toggleProgressArr","friends","filter","term","users_reducer","state","action","type","map","u","id","userId","followed","users","count","actions","switch_follow","setUsers","setCurrentPage","setPageCount","toggleIsFetching","toggleProgress","getFriends","getFilter","getUsers","dispatch","data","items","totalCount","follow","unfollow"],"mappings":"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","sourcesContent":["import {UsersAPI} from \"../api/api\";\r\nimport { InferActionsTypes, ThunkType } from \"./store-redux\";\r\n\r\ntype UsersDataItemType = {\r\n    name: string | null,\r\n    id: number,\r\n    photos: {\r\n      small: string | null,\r\n      large: string | null\r\n    },\r\n    status: string | null,\r\n    followed: boolean\r\n}\r\n\r\nlet initialState = {\r\n    usersData: [] as Array<UsersDataItemType>,\r\n    pageSize: 100,\r\n    currentPage: 1,\r\n    pageCount: 0,\r\n    isFetching: true,\r\n    toggleProgressArr: [] as Array<number>,\r\n    friends: [] as Array<UsersDataItemType>,\r\n    filter: {\r\n        term: '',\r\n        friends: null as null | boolean\r\n    }\r\n}\r\n\r\ntype InitialStateType = typeof initialState\r\nexport type FilterType = typeof initialState.filter\r\n\r\nlet users_reducer = (state = initialState, action: ActionsType) : InitialStateType => {\r\n\r\n    switch (action.type) {\r\n\r\n        case 'SN/Users/SWITCH_FOLLOW': {\r\n\r\n                return {\r\n                    ...state,\r\n                    usersData: state.usersData.map( u => {\r\n                        if(u.id === action.userId){\r\n                            return {...u, followed: !u.followed}\r\n                        }\r\n                        return u\r\n                    })\r\n                }\r\n        }\r\n        case 'SN/Users/SET_USERS': {\r\n            return { ...state, usersData: [...action.users]}\r\n        }\r\n        case 'SN/Users/SET_CURRENT_PAGE': {\r\n            return { ...state, currentPage: action.currentPage}\r\n        }\r\n        case 'SN/Users/SET_TOTAL_PAGE_COUNT': {\r\n            return { ...state, pageCount: action.count}\r\n        }\r\n        case 'SN/Users/TOGGLE_FETCHING': {\r\n            return { ...state, isFetching: action.isFetching}\r\n        }\r\n        case 'SN/Users/TOGGLE_PROGRESS': {\r\n            debugger\r\n            return {\r\n                ...state,\r\n                toggleProgressArr: action.isFetching\r\n                    ? [...state.toggleProgressArr, action.id]\r\n                    //@ts-ignore\r\n                    : toggleProgressArr.filter(id =>  id !== action.id)\r\n            } \r\n        }\r\n        case 'SN/Users/GET_FRIENDS': {\r\n\r\n            return {\r\n                ...state,\r\n                friends: [...action.friends] as Array<UsersDataItemType>\r\n            }\r\n        }\r\n        case 'SN/Users/GET_FILTER': {\r\n            return {\r\n                ...state,\r\n                filter: {term: action.filter.term, friends: action.filter.friends}\r\n            }\r\n        }\r\n        default: {\r\n            return state\r\n        }\r\n    }\r\n}\r\n\r\ntype ActionsType = InferActionsTypes<typeof actions>\r\n\r\nexport const actions = {\r\n    switch_follow: (userId: number) => ({type: 'SN/Users/SWITCH_FOLLOW', userId} as const),\r\n    setUsers: (users: Array<UsersDataItemType>) => ({type: 'SN/Users/SET_USERS', users} as const),\r\n    setCurrentPage: (currentPage: number) => ({type: 'SN/Users/SET_CURRENT_PAGE', currentPage} as const),\r\n    setPageCount: (count: number) => ({type: 'SN/Users/SET_TOTAL_PAGE_COUNT', count} as const),\r\n    toggleIsFetching: (isFetching: boolean) => ({type: 'SN/Users/TOGGLE_FETCHING', isFetching} as const),\r\n    toggleProgress: (isFetching: boolean, id: number) => ({type: 'SN/Users/TOGGLE_PROGRESS', isFetching, id} as const),\r\n    getFriends: (friends: Array<UsersDataItemType>) => ({type: 'SN/Users/GET_FRIENDS', friends} as const),\r\n    getFilter: (filter: FilterType) => ({type: 'SN/Users/GET_FILTER', filter} as const)\r\n}\r\n\r\n\r\n\r\ntype getThunkType = ThunkType<ActionsType >\r\n\r\nexport const getUsers = (currentPage: number, pageSize: number, filter: FilterType): getThunkType => async (dispatch)  => {\r\n\r\n    dispatch(actions.setCurrentPage(currentPage))\r\n    dispatch(actions.toggleIsFetching(true))\r\n    dispatch(actions.getFilter(filter))\r\n    const data = await UsersAPI.getUsers(currentPage, pageSize, filter.term, filter.friends)\r\n    dispatch(actions.toggleIsFetching(false))\r\n    dispatch(actions.setUsers(data.items))\r\n    dispatch(actions.setPageCount(data.totalCount))\r\n}\r\n\r\nexport const getFriends = (): getThunkType => async (dispatch)  => {\r\n\r\n    dispatch(actions.toggleIsFetching(true))\r\n    const data = await UsersAPI.getFriends()\r\n    dispatch(actions.toggleIsFetching(false))\r\n    dispatch(actions.getFriends(data.items))\r\n}\r\n\r\nexport const follow = (userId: number): getThunkType => async (dispatch) => {\r\n    dispatch(actions.toggleProgress(true, userId))\r\n    const data = await UsersAPI.follow(userId)\r\n        dispatch(actions.switch_follow(userId))\r\n        dispatch(actions.toggleProgress(false, userId))\r\n}\r\n\r\nexport const unfollow = (userId: number): getThunkType => async (dispatch) => {\r\n    dispatch(actions.toggleProgress(true, userId))\r\n    const data = await UsersAPI.unfollow(userId)\r\n        dispatch(actions.switch_follow(userId))\r\n        dispatch(actions.toggleProgress(false, userId))\r\n}\r\n\r\nexport default users_reducer"]},"metadata":{},"sourceType":"module"}