{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\dikush\\\\Documents\\\\GitHub\\\\react-my-way\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\dikush\\\\Documents\\\\GitHub\\\\react-my-way\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\dikush\\\\Documents\\\\GitHub\\\\react-my-way\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\dikush\\\\Documents\\\\GitHub\\\\react-my-way\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\dikush\\\\Documents\\\\GitHub\\\\react-my-way\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\dikush\\\\Documents\\\\GitHub\\\\react-my-way\\\\src\\\\components\\\\Users\\\\UsersContainer.jsx\";\nimport React from 'react';\nimport { connect } from \"react-redux\";\nimport { setCurrentPageAC, setPageCountAC, setUsersAC, switch_followAC, toggleIsFetchingAC } from \"../../redux/users_reducer\";\nimport Users from \"./Users\";\nimport * as axios from \"axios\";\nimport Preloader from \"../common/Preloader/Preloader\";\n\nvar UsersContainer = /*#__PURE__*/function (_React$Component) {\n  _inherits(UsersContainer, _React$Component);\n\n  function UsersContainer() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, UsersContainer);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(UsersContainer)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.pageEvent = function (p) {\n      _this.props.setCurrentPage(p);\n\n      _this.props.toggleIsFetching(true);\n\n      axios.get(\"https://social-network.samuraijs.com/api/1.0/users?page=\".concat(p, \"&count=\").concat(_this.props.pageSize)).then(function (response) {\n        _this.props.toggleIsFetching(false);\n\n        _this.props.setUsers(response.data.items);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(UsersContainer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.props.toggleIsFetching(true);\n      axios.get(\"https://social-network.samuraijs.com/api/1.0/users\").then(function (response) {\n        _this2.props.toggleIsFetching(false);\n\n        _this2.props.setUsers(response.data.items); //this.props.setCountPage(response.data.totalCount)\n\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, this.props.isFetching ? /*#__PURE__*/React.createElement(Preloader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 38\n        }\n      }) : /*#__PURE__*/React.createElement(Users, {\n        currentPage: this.props.currentPage,\n        pageCount: this.props.pageCount,\n        pageSize: this.props.pageSize,\n        switch_follow: this.props.switch_follow,\n        state: this.props.state,\n        pageEvent: this.pageEvent,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 17\n        }\n      }));\n    }\n  }]);\n\n  return UsersContainer;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    state: state.usersPage.usersData,\n    currentPage: state.usersPage.currentPage,\n    pageCount: state.usersPage.pageCount,\n    pageSize: state.usersPage.pageSize,\n    isFetching: state.usersPage.isFetching\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    switch_follow: function switch_follow(usersId) {\n      dispatch(switch_followAC(usersId));\n    },\n    setUsers: function setUsers(users) {\n      dispatch(setUsersAC(users));\n    },\n    setCurrentPage: function setCurrentPage(currentPage) {\n      dispatch(setCurrentPageAC(currentPage));\n    },\n    setCountPage: function setCountPage(pageCount) {\n      dispatch(setPageCountAC(pageCount));\n    },\n    toggleIsFetching: function toggleIsFetching(isFetching) {\n      dispatch(toggleIsFetchingAC(isFetching));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UsersContainer);","map":{"version":3,"sources":["C:/Users/dikush/Documents/GitHub/react-my-way/src/components/Users/UsersContainer.jsx"],"names":["React","connect","setCurrentPageAC","setPageCountAC","setUsersAC","switch_followAC","toggleIsFetchingAC","Users","axios","Preloader","UsersContainer","pageEvent","p","props","setCurrentPage","toggleIsFetching","get","pageSize","then","response","setUsers","data","items","isFetching","currentPage","pageCount","switch_follow","state","Component","mapStateToProps","usersPage","usersData","mapDispatchToProps","dispatch","usersId","users","setCountPage"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    setCurrentPageAC,\r\n    setPageCountAC,\r\n    setUsersAC,\r\n    switch_followAC,\r\n    toggleIsFetchingAC\r\n} from \"../../redux/users_reducer\";\r\nimport Users from \"./Users\";\r\nimport * as axios from \"axios\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.toggleIsFetching(true)\r\n        axios.get(\"https://social-network.samuraijs.com/api/1.0/users\").then((response) => {\r\n            this.props.toggleIsFetching(false)\r\n            this.props.setUsers(response.data.items)\r\n            //this.props.setCountPage(response.data.totalCount)\r\n        })\r\n    }\r\n\r\n    pageEvent = (p) => {\r\n        this.props.setCurrentPage(p);\r\n        this.props.toggleIsFetching(true)\r\n        axios.get(`https://social-network.samuraijs.com/api/1.0/users?page=${p}&count=${this.props.pageSize}`).then((response) => {\r\n            this.props.toggleIsFetching(false)\r\n            this.props.setUsers(response.data.items)\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> :\r\n                <Users\r\n                    currentPage={this.props.currentPage}\r\n                    pageCount={this.props.pageCount}\r\n                    pageSize={this.props.pageSize}\r\n                    switch_follow={this.props.switch_follow}\r\n                    state={this.props.state}\r\n                    pageEvent={this.pageEvent}\r\n                />}\r\n        </>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\r\n    return {\r\n        state: state.usersPage.usersData,\r\n        currentPage: state.usersPage.currentPage,\r\n        pageCount: state.usersPage.pageCount,\r\n        pageSize: state.usersPage.pageSize,\r\n        isFetching: state.usersPage.isFetching\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\r\n    return {\r\n        switch_follow: (usersId) => {\r\n            dispatch(switch_followAC(usersId))\r\n        },\r\n        setUsers: (users) => {\r\n            dispatch(setUsersAC(users))\r\n        },\r\n        setCurrentPage: (currentPage) => {\r\n            dispatch(setCurrentPageAC(currentPage))\r\n        },\r\n        setCountPage: (pageCount) => {\r\n            dispatch(setPageCountAC(pageCount))\r\n        },\r\n        toggleIsFetching: (isFetching) => {\r\n            dispatch(toggleIsFetchingAC(isFetching))\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UsersContainer)\r\n"]},"metadata":{},"sourceType":"module"}